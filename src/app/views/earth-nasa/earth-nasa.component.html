<div #leafletMapContainer style="width:256px; height:256px; position:absolute; left:-9999px; top:-9999px; z-index:-1;"></div>

<div #rendererContainer class="renderer-container"></div>

<div class="info-panel">
  <h3>ğŸŒ Tierra NASA - SimulaciÃ³n AstronÃ³mica</h3>
  
  <!-- InformaciÃ³n de Tiempo -->
  <div class="time-section">
    <div class="data-point">
      <span>ğŸ“… Fecha:</span>
      <span>{{ getCurrentDate() }}</span>
    </div>
    <div class="data-point">
      <span>â° Hora Local:</span>
      <span>{{ getCurrentLocalTime() }}</span>
    </div>
    <div class="data-point">
      <span>ğŸŒ Modo:</span>
      <span>{{ useRealTime ? 'Tiempo Real' : 'Manual' }}</span>
    </div>
  </div>

  <!-- InformaciÃ³n Solar -->
  <div class="solar-section">
    <div class="data-point">
      <span>â˜€ï¸ ElevaciÃ³n Solar:</span>
      <span>{{ getSunPosition().elevation }}Â°</span>
    </div>
    <div class="data-point">
      <span>ğŸ§­ Azimut Solar:</span>
      <span>{{ getSunPosition().azimuth }}Â°</span>
    </div>
  </div>

  <!-- InformaciÃ³n TÃ©cnica -->
  <div class="tech-section">
    <div class="data-point">
      <span>ğŸ”„ RotaciÃ³n:</span>
      <span>{{ useRealTime ? 'Sincronizada' : (manualRotationSpeed | number: '1.3-3') + ' rad/s' }}</span>
    </div>
    <div class="data-point">
      <span>ğŸ” Zoom:</span>
      <span>{{ (20 / cameraDistance) | number: '1.1-1' }}x</span>
    </div>
    <div class="data-point">
      <span>ğŸ¯ RotaciÃ³n Tierra:</span>
      <span>{{ (earthRotation() * 180 / 3.14159) | number: '1.0-0' }}Â°</span>
    </div>
  </div>
</div>

<div class="controls">
  <!-- Controles Principales -->
  <div class="control-group">
    <h4>âš™ï¸ Controles Principales</h4>
    <button (click)="toggleRotation()" [class.active]="isRotating">
      {{ isRotating ? 'â¸ï¸ Pausar' : 'â–¶ï¸ Reanudar' }}
    </button>
    <button (click)="toggleRealTime()" [class.active]="useRealTime">
      {{ useRealTime ? 'ğŸ“… Modo Manual' : 'â° Tiempo Real' }}
    </button>
    <button (click)="resetView()">ğŸ¯ Reset Vista</button>
  </div>

  <!-- Controles de Velocidad (solo en modo manual) -->
  <div class="control-group" *ngIf="!useRealTime">
    <h4>ğŸš€ Velocidad Manual</h4>
    <button (click)="changeRotationSpeed(0.0005)" [class.active]="manualRotationSpeed === 0.0005">
      ğŸŒ Muy Lento
    </button>
    <button (click)="changeRotationSpeed(0.002)" [class.active]="manualRotationSpeed === 0.002">
      ğŸš¶ Lento
    </button>
    <button (click)="changeRotationSpeed(0.005)" [class.active]="manualRotationSpeed === 0.005">
      ğŸƒ Normal
    </button>
    <button (click)="changeRotationSpeed(0.01)" [class.active]="manualRotationSpeed === 0.01">
      ğŸš€ RÃ¡pido
    </button>
  </div>

  <!-- Controles de CÃ¡mara -->
  <div class="control-group" *ngIf="controls">
    <h4>ğŸ“· CÃ¡mara</h4>
    <button (click)="toggleAutoOrbit()">
      {{ controls.autoRotate ? 'ğŸ”„ Parar Ã“rbita' : 'ğŸŒ Auto Ã“rbita' }}
    </button>
    <button (click)="refreshTexture()">ğŸ”„ Actualizar Textura</button>
  </div>
</div>